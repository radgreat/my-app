<% layout('layouts/layout') %>

<h2>Add New Task</h2>

<% if (error && error.length > 0) { %>
  <div class="alert alert-danger alert-dismissible fade show" role="alert">
    <%- error[0] %>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% } %> 

<form action="/tasks/created" method="POST" class="mt-4">
  <div class="mb-3">
    <label for="title" class="form-label">Title *</label>
    <input type="text" class="form-control" id="title" name="title" value="<%= formData.title || '' %>" required>
  </div>

  <div class="mb-3">
    <label for="details" class="form-label">Details</label>
    <textarea class="form-control" id="details" name="details"><%= formData.details || '' %></textarea>
  </div>

  <div class="mb-3">
    <label for="dueDate" class="form-label">Due Date</label>
    <input type="date" class="form-control" id="dueDate" name="dueDate" value="<%= formData.dueDate || '' %>">
  </div>

  <button type="submit" class="btn btn-success">Create Task</button>
  <a href="/tasks/read" class="btn btn-secondary">Cancel</a>
</form>
